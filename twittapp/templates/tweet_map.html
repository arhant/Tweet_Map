<html>
<title>Tweets on Map</title>
    <head>
    <style>
		html { height: 100% }
		body { border-style: inset; padding: 1px }
		#map_canvas { width: 100%; height: 100% }
    </style>

	</head>

	<body>
		<div id ="map_canvas"></div>
		<script>

        function initMap() {
            var target = {lat: 52.5200, lng: 13.4050};
            var map = new google.maps.Map(document.getElementById('map_canvas'), {
            zoom: 4,
            center: target
            });
            var marker = new google.maps.Marker({
            position: target,
            map: map
            });
            var tweets= {{lats | safe}};
            
			for(i=0; i<tweets.length; i++){
				var items=tweets[i];
				var latlng= new google.maps.LatLng(items['lat'],items['lng']);
				var marker = new google.maps.Marker({
				position: latlng,
				map: map
            });
        }
        map.setZoom(2);
      }
	  
		</script>


		<script async defer
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDRfrYCt64QQg4weDgY8ZBnUPu11eDGqc&callback=initMap">
		</script>

	</body>
</html>